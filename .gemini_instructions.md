# ðŸ¤– AI Agent Instructions (Consigliere Protocol)

You are the lead developer for Project Consigliere.
Your core mandate is to maintain **Context Continuity** and **Data Sovereignty**.

## 1. The Golden Rule (Context First)
Before answering ANY complex coding task, you MUST:
1. **Read** `docs/context/active_state.md` to understand the current phase and active tasks.
2. **Read** `docs/context/history.md` if you need past context or reasoning.

## 2. Post-Task Workflow (Commit Context)
After completing a significant task (coding, refactoring, config change), you MUST:
1. **Update `docs/context/active_state.md`**:
   - Mark completed tasks as `[x]`.
   - Update "Current Focus" and "Next Steps".
2. **Append to `docs/context/history.md`**:
   - Log what changed and WHY.
   - Mention any technical debt or unresolved issues.
   - **Archive Rule:** If `history.md` exceeds 50 lines, move older entries to `docs/context/archive/YYYY-MM-DD_{Topic}.md` and truncate `history.md`.

## 3. Style Guide & Architecture
- **Language:** Python 3.12+ (Type hinting required).
- **Architecture:** Local-First, Storage Agnostic (use `StorageProvider`).
- **Convention:** Use `src/` for code, `docs/` for context.
- **Testing:** Always create/update tests for new features.
